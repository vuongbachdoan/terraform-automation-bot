# Terraform Refactor Report (2025-05-03T18-57-41-377Z)

## ..\temp\main.tf

[31m- provider "aws" {[39m
[34m+ Error during refactoring: Amazon Q CLI ('q') is not installed or not in PATH. Install it from https://docs.aws.amazon.com/q/developer/latest/userguide/install-cli.html[39m
[31m-   region = "us-east-1"[39m
[31m- }[39m
[31m- [39m
[31m- resource "aws_instance" "web" {[39m
[31m-   ami           = "ami-0c55b159cbfafe1f0" # hardcoded, consider using data source[39m
[31m-   instance_type = "t2.micro"[39m
[31m- [39m
[31m-   tags = {[39m
[31m-     Name = "WebServer"[39m
[31m-     Env  = "Production"[39m
[31m-   }[39m
[31m- [39m
[31m-   provisioner "remote-exec" {[39m
[31m-     inline = [[39m
[31m-       "sudo apt-get update",[39m
[31m-       "sudo apt-get install -y nginx",[39m
[31m-       "sudo systemctl start nginx"[39m
[31m-     ][39m
[31m-   }[39m
[31m- [39m
[31m-   lifecycle {[39m
[31m-     create_before_destroy = true[39m
[31m-   }[39m
[31m- }[39m
[31m- [39m
[31m- resource "aws_security_group" "web_sg" {[39m
[31m-   name        = "web_sg"[39m
[31m-   description = "Allow HTTP and SSH"[39m
[31m-   vpc_id      = "vpc-12345678" # hardcoded[39m
[31m- [39m
[31m-   ingress {[39m
[31m-     from_port   = 80[39m
[31m-     to_port     = 80[39m
[31m-     protocol    = "tcp"[39m
[31m-     cidr_blocks = ["0.0.0.0/0"][39m
[31m-   }[39m
[31m- [39m
[31m-   ingress {[39m
[31m-     from_port   = 22[39m
[31m-     to_port     = 22[39m
[31m-     protocol    = "tcp"[39m
[31m-     cidr_blocks = ["0.0.0.0/0"][39m
[31m-   }[39m
[31m- [39m
[31m-   egress {[39m
[31m-     from_port   = 0[39m
[31m-     to_port     = 0[39m
[31m-     protocol    = "-1"[39m
[31m-     cidr_blocks = ["0.0.0.0/0"][39m
[31m-   }[39m
[31m- [39m
[31m-   tags = {[39m
[31m-     Name = "WebSecurityGroup"[39m
[31m-   }[39m
[31m- }[39m
[31m- [39m


